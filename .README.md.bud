/**
 * Examples for fur
 */

"use strict";

var pkg = require('./package.json'),
    path = require('path'),
    stringcase = require('stringcase'),
    util = require('util'),
    fs = require('fs');

module.exports = {
    force: true,
    mode: '444',
    data: {
        pkg: pkg,
        repo: 'fur-repo/fur-examples',
        links: {
            'fur': 'https://github.com/fur-repo/fur'
        },
        get examples() {
            var examples = require('./index');
            var banners = [],
                favicons = [];
            Object.keys(examples).forEach(function (key) {
                var example = examples[key],
                    banner = example['$banner'],
                    favicon = example['$favicon'];
                if (banner) {
                    banners.push({
                        img: util.format('./examples/%s/banner.png', key),
                        name: stringcase.spinalcase(banner['text']) + '-banner.' + (banner['format'] || 'svg'),
                        options: banner
                    })
                }
                if (favicon) {
                    favicons.push({
                        img: util.format('./examples/%s/favicon.png', key),
                        name: stringcase.spinalcase(favicon['text']) + '-favicon.' + (favicon['format'] || 'svg'),
                        options: favicon
                    });
                }
            });
            return {
                banner: banners,
                favicon: favicons
            }
        }
    }
};

if (!module.parent) {
    require('coz').render(__filename);
}